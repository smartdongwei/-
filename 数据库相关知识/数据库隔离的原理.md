## 1：数据库隔离的相关原理

接下来我们继续讲解MySQL是如何实现四个隔离级别的：

​    1）未提交读：显然不需要对行加锁，这样其他事务就可以同时访问此行。

​    2）提交读：在InnoDB的默认配置下，此隔离级别采用一致性非锁定读模式。即如果此行正被其他事务锁定，那么MySQL通过MVCC技术，当前事务可以读取此行的一个最近提交的快照数据。

​    3）可重复读：在InnoDB的默认配置下，此隔离级别采用一致性非锁定读模式。MySQL通过Next-Key Locking锁定一个范围，使范围内的数据不能同时在其他事务中插入，避免了当前事务出现“幻行”问题。MySQL通过MVCC，在读取某行数据时，如果此行被其他事务锁定，则当前事务不用阻塞，直接读取当前事务开始时的此行的一个数据快照，来解决可重复读问题。即在整个事务中，读取的始终是此行的同一个数据快照。MySQL的可重复读已经达到了SQL标准的Serializable标准，即（无脏读，可重复读MVCC，无幻读Next-Key Locking）。

​    4）可串行化：串行化执行事务，即发现有其他事务正在操作此行，则此事务阻塞直到其他事务结束。MySQL会对每个select加上lock in share mode，不支持一致性非锁定读。

## 2：数据库的锁